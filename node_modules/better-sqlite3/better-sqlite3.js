// This file is a placeholder for the better-sqlite3 module.
// The actual better-sqlite3 module is a binary and cannot be generated as code.
// Instead, you should install the module using npm or yarn.

// To install better-sqlite3, run the following command in your terminal:
// npm install better-sqlite3

// Once installed, you can use it in your project like this:

const Database = require('better-sqlite3');
const dbPath = 'db/thermwatch.tmdb'; // Use the shared dependency for the database path

// Function to initialize the database with the required tables
function initializeDatabase() {
  const db = new Database(dbPath, { verbose: console.log });

  // Create tables for company, plant, asset, and sensor profiles
  const createCompanyTable = db.prepare(`
    CREATE TABLE IF NOT EXISTS Company (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      companyName TEXT,
      address TEXT,
      city TEXT,
      stateProvince TEXT,
      country TEXT,
      zipPostalCode TEXT,
      phoneNumber TEXT,
      email TEXT
    )
  `);
  createCompanyTable.run();

  const createPlantTable = db.prepare(`
    CREATE TABLE IF NOT EXISTS Plant (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      plantName TEXT,
      address TEXT,
      city TEXT,
      stateProvince TEXT,
      country TEXT,
      zipPostalCode TEXT,
      phoneNumber TEXT,
      email TEXT,
      companyId INTEGER,
      FOREIGN KEY(companyId) REFERENCES Company(id)
    )
  `);
  createPlantTable.run();

  const createAssetTable = db.prepare(`
    CREATE TABLE IF NOT EXISTS Asset (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      assetName TEXT,
      plantId INTEGER,
      capacity REAL,
      rating REAL,
      temperatureThreshold REAL,
      FOREIGN KEY(plantId) REFERENCES Plant(id)
    )
  `);
  createAssetTable.run();

  const createSensorTable = db.prepare(`
    CREATE TABLE IF NOT EXISTS Sensor (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      sensorName TEXT,
      sensorFamily TEXT,
      sensorType TEXT,
      sensorVariant TEXT,
      assetId INTEGER,
      position INTEGER,
      FOREIGN KEY(assetId) REFERENCES Asset(id)
    )
  `);
  createSensorTable.run();

  db.close();
}

// Export the initializeDatabase function so it can be used by other parts of the application
module.exports = {
  initializeDatabase
};

// Note: The actual implementation of better-sqlite3 is more complex and includes many more features.
// This code is a simplified example to demonstrate how you might set up a database using better-sqlite3 in an Electron app.